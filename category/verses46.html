<!DOCTYPE html>
<html lang="en">
<head>
    <title>Techshack Weekly </title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" />
        <link rel="stylesheet" href="https://www.soasme.com/techshack.weekly/theme/css/main.css" type="text/css" />
        <link href="https://www.soasme.com/techshack.weekly/" type="application/atom+xml" rel="alternate" title="Techshack Weekly ATOM Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://www.soasme.com/techshack.weekly/css/ie.css"/>
                <script src="https://www.soasme.com/techshack.weekly/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://www.soasme.com/techshack.weekly/css/ie6.css"/><![endif]-->

</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-lg-2"></div>
            <div id="content" class="col-lg-6">
                <div class="entry">
        
        

 
                <section id="content" class="body">
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/89802d70-e2d5-4e76-b0dd-2c630964506d.html" rel="bookmark"
                                title="Permalink to 如何决定监控服务的监控项及其阈值？"
                                >如何决定监控服务的监控项及其阈值？</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://blog.appoptics.com/no-need-alarmed-crafting-effective-alert-strategy/">查看原文</a></p>
<p>Web 服务监控很多时候不是简简单单设个阈值就好了。</p>
<ul>
<li>需要确保指标真正地在监控你需要监控的东西</li>
<li>需要了解系统是如何运作的</li>
<li>Alert = Actionable Threats to System</li>
</ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/89802d70-e2d5-4e76-b0dd-2c630964506d.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/8521fc27-ba73-4b22-88e6-49fd117bec4d.html" rel="bookmark"
                                title="Permalink to 如何为 Github Pages 自定义域名配置 HTTPS？"
                                >如何为 Github Pages 自定义域名配置 HTTPS？</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://gist.github.com/cvan/8630f847f579f90e0c014dc5199c337b">查看原文</a></p>
<p>Github Pages 自定义域名无法拥有 HTTPS，这可以通过配置 CDN 服务绕过解决。假设使用 CloudFlare 服务，你可以通过将 name server 指向到 CloudFlare 服务，之后等待 24 小时 SSL 证书发送完毕即可。Techshack Weekly 网站就通过 CloudFlare 做 CDN，同时支持了 HTTPS。</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/8521fc27-ba73-4b22-88e6-49fd117bec4d.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/98442af4-03ef-4884-8838-3e44acf52e57.html" rel="bookmark"
                                title="Permalink to Unix 手册阅读 - rmdir.2"
                                >Unix 手册阅读 - rmdir.2</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="http://man7.org/linux/man-pages/man2/rmdir.2.html">查看原文</a></p>
<p><code>rmdir()</code> 函数是命令 <code>rmdir</code> 的底层函数，它可以删除一个空目录。空目录的概念，在 Unix 编程中，是指只包含了 <code>.</code> 和 <code>..</code> 这两项的目录。调用成功意味着：这个目录在文件系统系统中占用的空间被释放。</p>
<p>目录下有文件，意味着它的链接计数不为 0，也就是说，不是空目录。对这样的目录调用 <code>rmdir()</code> 会报错 ENOTEMPTY。</p>
<p>另外，值得一提的是，就算链接计数到 0 了，如果有进程还打开了这个目录，那么调用函数也会失败，报错 EBUSY。</p>
<p>衍生思考：</p>
<ul>
<li>文件系统节点下明明有 <code>.</code> 和 <code>..</code> 两项，为什么还叫空目录呢？不妨将 <code>.</code> 和 <code>..</code> 看作是进入和离开目录的门的门把手，而非是目录里的文件。</li>
<li><code>rmdir</code> 为什么这么执着于删除空目录，而把删除递归删除文件这种事情交给 <code>rm -r</code> 呢？一个想法是 rmdir …</li></ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/98442af4-03ef-4884-8838-3e44acf52e57.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/f1c62b9c-a368-4452-812e-4e792682cbcd.html" rel="bookmark"
                                title="Permalink to Unix 手册阅读 - mkdir.2"
                                >Unix 手册阅读 - mkdir.2</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://linux.die.net/man/2/mkdir">查看原文</a></p>
<p><code>mkdir()</code> 操作当调用成功时，会在文件系统中建立指定名字的目录，其 owner 一般是进程的 uid。目录的 mode 设置规则是：<code>mode &amp; ~umask &amp; 0777</code>。Linux 中新目录继承父目录的 mode 设置，这意味着目录的 gid 也会继承。对于目录来说，一般而言，我们至少会设置一个 x 权限给它，这样我们才能访问到目录中的文件名。</p>
<p>仔细查看这些错误码，会发现主要分成三类：</p>
<ul>
<li>Pathname 有没有问题？</li>
<li>权限有没有问题？</li>
<li>空间还够不够？</li>
</ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/f1c62b9c-a368-4452-812e-4e792682cbcd.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/221a842c-a9aa-48bb-a937-7be2345487b6.html" rel="bookmark"
                                title="Permalink to Bit Bucket 是什么？"
                                >Bit Bucket 是什么？</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="http://catb.org/esr/jargon/html/B/bit-bucket.html">查看原文</a></p>
<p>Bit Bucket 是一个 Jargon，一般用于说明被丢弃的数据，或者邮件没送出去的借口。它字面意义上就是存放 bit 的桶。这个名词表达了一个概念： bit 是内存中被创建出来是无法摧毁的，最多只能被误放在某个地方。Bit Bucket 就像一个水桶一样，存放所有不要的字节。</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/221a842c-a9aa-48bb-a937-7be2345487b6.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/2b7dd26b-b557-4407-a8af-bd8999516ed8.html" rel="bookmark"
                                title="Permalink to 阅读 Python 文档 - stat 模块"
                                >阅读 Python 文档 - stat 模块</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://docs.python.org/2/library/stat.html">查看原文</a></p>
<p>Python stat 模块定义了一些帮助解读 struct stat 结构体的常量和函数。struct stat 结构体可以由 stat, fstat, lstat 这三种操作返回。</p>
<p>我们一般用 <code>ls -l</code> 查看 stat 的信息。</p>
<p>这些常量应该被定义在 <code>&lt;sys/stat.h&gt;</code> 头文件中，例如 </p>
<ul>
<li><code>S_ISDIR(mode)</code> - 目录</li>
<li><code>S_ISCHR(mode)</code> - character special device file (for nocaching device reading)</li>
<li><code>S_ISBLK(mode)</code> - block special device file (for caching device reading)<ul>
<li>注 …</li></ul></li></ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/2b7dd26b-b557-4407-a8af-bd8999516ed8.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/b176cd37-c5c8-4ce0-884b-a4ca5210ec63.html" rel="bookmark"
                                title="Permalink to 阅读源码 - `sys/stat.h`"
                                >阅读源码 - `sys/stat.h`</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="http://pubs.opengroup.org/onlinepubs/009695399/basedefs/sys/stat.h.html">查看原文</a></p>
<p><code>&lt;sys/stat.h&gt;</code> 头文件定义了 stat 数据结构，以及一些检测数据结构字段的宏，这些宏可以用于检测文件类型。</p>
<ul>
<li>stat 函数返回 path 文件信息</li>
<li>fstat 函数返回 fd 的文件信息</li>
<li>lstat 函数返回 path 的文件信息，若为链接则返回链接的文件信息，而非指向文件的文件信息。</li>
</ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/b176cd37-c5c8-4ce0-884b-a4ca5210ec63.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/ee3317cd-035b-439a-815a-edc2d5129bfd.html" rel="bookmark"
                                title="Permalink to `/dev/null` 是什么？"
                                >`/dev/null` 是什么？</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://en.wikipedia.org/wiki/Null_device">查看原文</a></p>
<p><code>/dev/null</code> 具体来说，是指操作系统中的一个忽略所有写操作，并返回写操作成功的 device file。它也被称作 bit bucket, black hole。它一般用于抛弃不想要的进程输出，或者零输入。</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/ee3317cd-035b-439a-815a-edc2d5129bfd.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/3aee6d45-0d9d-4e79-8eae-93be5474bf54.html" rel="bookmark"
                                title="Permalink to Python 库 - Trio"
                                >Python 库 - Trio</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://trio.readthedocs.io/en/latest/tutorial.html">查看原文</a></p>
<p>Trio 是另一个 Python Async 编程的库，它的设计和 curio 是很接近的。</p>
<ul>
<li>通过 <code>trio.run(coro)</code> 运行所有的异步方法。</li>
<li><code>async with trio.open_nursery() as nursery: nursery.call_soon(child)</code> 归组一系列子 coro。</li>
<li><code>trio.run(parent, instruments=[MyTracer()])</code> 添加流程监控。</li>
<li>同样基于 task 进行管理 coroutine</li>
<li>单线程，无 Thread。</li>
<li>使用场景：10K+ 任务，只要 cpu 和带宽还够用。</li>
</ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/3aee6d45-0d9d-4e79-8eae-93be5474bf54.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/7c36d1fb-f176-4e8d-916f-63d4179a09aa.html" rel="bookmark"
                                title="Permalink to 如何用正则表达式解析出一个 JSON 字符串？"
                                >如何用正则表达式解析出一个 JSON 字符串？</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://stackoverflow.com/questions/249791/regex-for-quoted-string-with-escaping-quotes">查看原文</a></p>
<p>有时候我们想要匹配带引号的 String 的正则表达式，例如想要摘出 <code>this is "a string"</code> 中的 <code>`，正解：</code>/"(?:[^"\]|\.)*"/`。
它的难点在于，需要排除掉第一个和最后一个引号，然后在内部还需要过滤掉 \" 和 \ 这种 case。</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/7c36d1fb-f176-4e8d-916f-63d4179a09aa.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>

<p class="paginator">
        <a href="https://www.soasme.com/techshack.weekly/category/verses45.html">&laquo;</a>
    Page 46 / 54
        <a href="https://www.soasme.com/techshack.weekly/category/verses47.html">&raquo;</a>
</p>
            </section><!-- /#content -->

                </div>

                <hr>
                <div id="footer" class="col-lg-12">
                    <nav>
                        <ul>
                        </ul>
                    </nav>
                </div>
            </div>
            <div id="sidebar" class="col-lg-4">
                <h1>
                    <a href="https://www.soasme.com/techshack.weekly " title="Techshack Weekly">
                        <img src="https://www.soasme.com/techshack.weekly/images/logo-200x50.png" />
                    </a>
                </h1>
                <span class="description"> </span>
                <div><div class="entry-subscription">
    <h5>Techshack Weekly</h5>
    <br>
    专注于后端技术阅读
    <br>
    目前有上百位订阅者。
    <br>
    订阅 <a href="https://www.soasme.com/techshack.weekly/feeds/issues.atom.xml">RSS</a>
    <br>
    欢迎加入 <a href="https://t.me/techshack">Telegram Channel</a> ，
    <br>
    <iframe src="https://tgwidget.com/widget/count/?id=5a66b26483ba88e7118b4568" frameborder="0" scrolling="no" horizontalscrolling="no" verticalscrolling="no" width="160px" height="50px" async></iframe>
    <br>
    关注推特 <a href="https://twitter.com/techshackweekly">@techshackweekly</a>。
    <br>
    <a href="https://twitter.com/TechshackWeekly?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @TechshackWeekly</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    <hr>
</div></div>
                <div><!-- Begin MailChimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
    #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif;  width:250px;}
    /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
       We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="https://soasme.us17.list-manage.com/subscribe/post?u=617c1cb80ba1b0cbf828df387&amp;id=10442a8ee6" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
    <label for="mce-EMAIL">Subscribe to our mailing list</label>
    <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_617c1cb80ba1b0cbf828df387_10442a8ee6" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup--></div>
                    <div>:: <a href="https://www.soasme.com/techshack.weekly/categories.html">Categories</a></div>
                <!-- <span class="feed"><a href="">RSS</a> | <a href="">Atom</a></span> -->
            </div>
            <div class="col-lg-2"></div>
        </div>
    </div>
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-36183732-2");
    pageTracker._trackPageview();
    } catch(err) {}</script>
</body>
</html>