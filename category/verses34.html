<!DOCTYPE html>
<html lang="en">
<head>
    <title>Techshack Weekly </title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" />
        <link rel="stylesheet" href="https://www.soasme.com/techshack.weekly/theme/css/main.css" type="text/css" />
        <link href="https://www.soasme.com/techshack.weekly/" type="application/atom+xml" rel="alternate" title="Techshack Weekly ATOM Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://www.soasme.com/techshack.weekly/css/ie.css"/>
                <script src="https://www.soasme.com/techshack.weekly/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://www.soasme.com/techshack.weekly/css/ie6.css"/><![endif]-->

</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-lg-2"></div>
            <div id="content" class="col-lg-6">
                <div class="entry">
        
        

 
                <section id="content" class="body">
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/f77d0f50-c403-4d0c-a23e-1a49145c6192.html" rel="bookmark"
                                title="Permalink to 安全使用 Linux 服务器"
                                >安全使用 Linux 服务器</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://medium.com/@ageis/common-approaches-to-securing-linux-servers-and-what-runs-on-them-dadcacc5388b">查看原文</a></p>
<p>为了打造安全的系统，我们需要考虑的东西有方方面面。本文介绍了一份安全检查的清单。</p>
<ul>
<li>访问控制列表 (ACLs): 系统架构必须按组和角色授权访问系统的不同部分。Linux 相关的命令：acl</li>
<li>系统审计：用户登录机器，必须能够做到审计用户执行的所有命令。Linux 相关命令：auditd / go-audit</li>
<li>静态分析：内存安全要用工具来保障，代码要审计，静态分析，甚至被 fuzzed。可以用各种静态分析的工具来做，甚至用 Rust 这种语言写。</li>
<li>网络分区：服务器妥善地放在负载均衡后面。如果网络挂掉或者没有路由，这些主机应该可以存活。配置 VPN，给机器配置内网和公网地址。iptables, ufw.</li>
<li>Compartmentalization: 让员工将他们的电脑去分开工作和非工作的部分。工具可以是虚拟机：Qubes / VirtualBox.</li>
<li>文件权限和 umask: 妥善设置好每个配置文件的 r, w, x.</li>
<li>容器：确认谁有权限构建和推送镜像到生产环境。这些要被签名 …</li></ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/f77d0f50-c403-4d0c-a23e-1a49145c6192.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/0291e9d6-4e36-49be-9148-b10ca2a707ce.html" rel="bookmark"
                                title="Permalink to 迁移 Python 2 to 3 的经验帖"
                                >迁移 Python 2 to 3 的经验帖</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://medium.com/@boxed/moving-a-large-and-old-codebase-to-python3-33a5a13f8c99">查看原文</a></p>
<p>本文介绍一个团队将二十多万行的代码库升级到 Python 3 的经验帖。</p>
<ul>
<li>Python2 ￫ Six ￫ Python3。2to3 这个库会导致代码坏掉。用 six 写一些兼容两个版本的代码会方便很多。</li>
<li>Python-modernize 把 py2 仓库转成 six-compatible 的仓库。</li>
<li>依赖不太支持 Python3 的，上游不搞，就自己 fork 修一下先支持。</li>
<li><code>StringIO.StringIO</code> 在 Python3 中需要思考是要用 io.StringIO, io.BytesIO 还是 six.StringIO。</li>
<li>看上去 Python 3 的支持迟早要做，早晚的问题。</li>
</ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/0291e9d6-4e36-49be-9148-b10ca2a707ce.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/fe91be43-390f-494e-94da-0938acfd81c6.html" rel="bookmark"
                                title="Permalink to 做得不好的软件是要被吐槽的"
                                >做得不好的软件是要被吐槽的</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://www.reddit.com/r/programming/comments/7zb7jt/ibm_java_cto_devs_shouldnt_have_to_learn_docker/">查看原文</a></p>
<p>IBM Java CTO 宣称开发者才不需要学习 Docker, Kubernetes, 以及 30 多种工具来部署应用。从结论上来说，其实并没有什么问题。未来的部署工具必然是会收敛到几套成熟的方案上，操作也会更简单。不过比较惨的是，IBM 家的 WebSphere 这套解决方案被人称作 shitlord application。评论中，写出一个简单的 Hello World 程序，需要启动好几个小时的 IDE，搞清十几个概念，中间会遇到各种错误。</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/fe91be43-390f-494e-94da-0938acfd81c6.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/298772d9-1f86-4eb5-b850-5a3385202937.html" rel="bookmark"
                                title="Permalink to Service Mesh 如何获取 Top-Line Service Metrics"
                                >Service Mesh 如何获取 Top-Line Service Metrics</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://buoyant.io/2016/10/04/a-service-mesh-for-kubernetes-part-i-top-line-service-metrics/">查看原文</a></p>
<p>Service Mesh 是管理应用间通信的中间层。有了 Service Mesh，应用中可以丢掉的代码有：处理重试，超时，Tracing，服务发现，监控外部服务等等。Service Mesh 可以自动抓取目标服务的一些 top-line service mtrics，例如请求的成功率，latency 等等。使用 Kubernetes 的 DaemonSets 工具可以完成 sidecars 式的部署。</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/298772d9-1f86-4eb5-b850-5a3385202937.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/4ec49698-1ebd-45d0-8f83-122ba826be81.html" rel="bookmark"
                                title="Permalink to Overlay Network 简介"
                                >Overlay Network 简介</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://en.wikipedia.org/wiki/Overlay_network">查看原文</a></p>
<p>Overlay Network 是指一个网络构建于另一个网络上。上层网络用虚拟链接相连，每个链接路径 在下层网络中有相对应的（可能有多条）物理链接。一个很好的例子是过去互联网是构建在电话线路上，如今电话网络开始越来越多构建在互联网的光纤网络上。Overlay Network 是通信的概念，我们所使用的 IP 网络目前大多数 overlaid 在至少一个光纤层，一个传输层，一个 IP 或者 circuit switching 层。一般来说，Overlay 没办法决定数据包如何在节点中间传输，但能决定数据包到达目标节点的先后顺序。</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/4ec49698-1ebd-45d0-8f83-122ba826be81.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/8f64eb9e-c2a8-4259-a756-d8333c6ad39f.html" rel="bookmark"
                                title="Permalink to Linkerd 是什么"
                                >Linkerd 是什么</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://linkerd.io/overview/what-is-linkerd/">查看原文</a></p>
<p>Linkerd 是一款 service mesh 软件，它用于处理 service-to-service 通信的管理，控制，和监控。在复杂的系统中，最大的问题很有可能不是出在服务本身，而是出在服务间的通信。Linkerd 的解决方案是引入一个专门控制流量的中间层，负责通信相关的各种需求，例如 latency-aware 的负载均衡，instrumentation，TLS，控制，request-level routing 等等。</p>
<p>运行 linkerd 示例，配好地址后，应用先联系 linkerd，然后 linkerd 再 proxy 到目标服务。linkerd 在底层做的事情是应用路由规则，联系 service discovery，获得目标服务，然后负载均衡流量过去。引入 service mesh 的好处是：有一张生产环境所有服务的全局的拓扑图，服务 …</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/8f64eb9e-c2a8-4259-a756-d8333c6ad39f.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/9ccea29a-dfb5-4e2c-86d1-2ba10cf4d834.html" rel="bookmark"
                                title="Permalink to Alpine 项目的来龙去脉"
                                >Alpine 项目的来龙去脉</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://thenewstack.io/alpine-linux-heart-docker/">查看原文</a></p>
<p>Alpine Linux 是一个非常小的 Linux distro，它的核心理念是整个 distro 能装在内存中运行（甚至可以做到每次重启都重装）。Docker 的很多 official images 都从 alpine 开始构建。Alpine 的最突出的特性就是小而高效。当然缺点相对的，就是不如 RedHat / SUSE / Ubuntu 这样的系统打磨得非常易用。虽然 Alpine 源自 Gentoo，但目前是可以独立运行的，它的基本套件是 Linux Kernel + MuslC + BusyBox + LibreSSL + OpenRC。Alpine Package Keeper (apk) 是 Alpine 的包管理工具，不用 gentoo pacman 的原因还是 run-from-ram。打包后使用 …</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/9ccea29a-dfb5-4e2c-86d1-2ba10cf4d834.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/66ed6e39-bf5b-4f75-ab2a-902806fe85a2.html" rel="bookmark"
                                title="Permalink to 实战：Facebook 直播如何应对流量高峰"
                                >实战：Facebook 直播如何应对流量高峰</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://code.facebook.com/posts/166966743929963/how-production-engineers-support-global-events-on-facebook/">查看原文</a></p>
<p>视频直播服务很容易收到特殊事件的冲击导致出现流量高峰。对于 Facebook Live 服务，他们的系统有三种常见的模式：Routine（作息导致的高峰和低谷），完全无法预测的高峰（例如自然灾害或者灾难或者哪里枪击案了），预期的高峰（例如节日）。要让系统很好地应对流量高峰，首先需要对系统架构有认知，找出瓶颈，然后逐个测试其上限，平时做演练，最后真刀真枪时上备好的服务器增强容量。</p>
<p>对于 Facebook Live，他们的架构分三层，直播的客户端的 RTMPS TCP 流数据通过 Edge PoP 到达 Facebook Live Servers (FBLS), 完成 HD/SD encoding 以后永久存储到 Distributed Media Storage，同时数据会通过 Facebook CDN 到达 回放的客户端。</p>
<p>这个系统架构的主要资源消耗在这几个组件中：</p>
<ul>
<li>Edge PoP …</li></ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/66ed6e39-bf5b-4f75-ab2a-902806fe85a2.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/8d9a9f9c-f52f-4e57-b767-fb27bb91f476.html" rel="bookmark"
                                title="Permalink to 学习 IT 基础知识的重要性"
                                >学习 IT 基础知识的重要性</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="http://www.linuxjournal.com/content/learning-it-fundamentals">查看原文</a></p>
<p>你可能随时都能搞到编译好的软件，配置好的数据库实例，甚至是一整个集群坏了就丢了重新搞起来一套。现在的技术把很多东西藏起来了，封装到完全不会接触到。但是，只要你愿意，你可以在任何地方潜下去，你都可以挖出很多知识来。你可以不用知道那些知识就能找到工作，但出了问题，这些知识将能让你找到问题所在。</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/8d9a9f9c-f52f-4e57-b767-fb27bb91f476.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/c56405bf-9b61-476a-953b-e26814d32478.html" rel="bookmark"
                                title="Permalink to 如何写出安全地 Shell 脚本？"
                                >如何写出安全地 Shell 脚本？</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="http://www.linuxjournal.com/content/shell-scripting-and-security">查看原文</a></p>
<p>本文介绍了写出安全的 Shell 脚本的一些技巧。</p>
<ul>
<li>在输入密码的时候，使用 <code>stty -echo</code> 不显示用户输入。使用 <code>read password</code> 接受用户输入。使用 <code>stty echo</code> 重新显示用户输入。</li>
<li>可以用 <code>sed -E 's/[[:lower:]]//g'</code> 处理用户输入做比对，看是否相同。如果不同，说明没有通过校验，没有含有特定类型的字符。</li>
<li>使用 <code>wc -c</code> 测试密码长度</li>
<li>定时检查 /etc/passwd 看看有没有新的账户被创建，有一定几率可以检测出服务器被人搞了。</li>
<li>评论有人提到了 auditd。</li>
</ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/c56405bf-9b61-476a-953b-e26814d32478.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>

<p class="paginator">
        <a href="https://www.soasme.com/techshack.weekly/category/verses33.html">&laquo;</a>
    Page 34 / 54
        <a href="https://www.soasme.com/techshack.weekly/category/verses35.html">&raquo;</a>
</p>
            </section><!-- /#content -->

                </div>

                <hr>
                <div id="footer" class="col-lg-12">
                    <nav>
                        <ul>
                        </ul>
                    </nav>
                </div>
            </div>
            <div id="sidebar" class="col-lg-4">
                <h1>
                    <a href="https://www.soasme.com/techshack.weekly " title="Techshack Weekly">
                        <img src="https://www.soasme.com/techshack.weekly/images/logo-200x50.png" />
                    </a>
                </h1>
                <span class="description"> </span>
                <div><div class="entry-subscription">
    <h5>Techshack Weekly</h5>
    <br>
    专注于后端技术阅读
    <br>
    目前有上百位订阅者。
    <br>
    订阅 <a href="https://www.soasme.com/techshack.weekly/feeds/issues.atom.xml">RSS</a>
    <br>
    欢迎加入 <a href="https://t.me/techshack">Telegram Channel</a> ，
    <br>
    <iframe src="https://tgwidget.com/widget/count/?id=5a66b26483ba88e7118b4568" frameborder="0" scrolling="no" horizontalscrolling="no" verticalscrolling="no" width="160px" height="50px" async></iframe>
    <br>
    关注推特 <a href="https://twitter.com/techshackweekly">@techshackweekly</a>。
    <br>
    <a href="https://twitter.com/TechshackWeekly?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @TechshackWeekly</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    <hr>
</div></div>
                <div><!-- Begin MailChimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
    #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif;  width:250px;}
    /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
       We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="https://soasme.us17.list-manage.com/subscribe/post?u=617c1cb80ba1b0cbf828df387&amp;id=10442a8ee6" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
    <label for="mce-EMAIL">Subscribe to our mailing list</label>
    <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_617c1cb80ba1b0cbf828df387_10442a8ee6" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup--></div>
                    <div>:: <a href="https://www.soasme.com/techshack.weekly/categories.html">Categories</a></div>
                <!-- <span class="feed"><a href="">RSS</a> | <a href="">Atom</a></span> -->
            </div>
            <div class="col-lg-2"></div>
        </div>
    </div>
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-36183732-2");
    pageTracker._trackPageview();
    } catch(err) {}</script>
</body>
</html>