<!DOCTYPE html>
<html lang="en">
<head>
    <title>Techshack Weekly </title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" />
        <link rel="stylesheet" href="https://www.soasme.com/techshack.weekly/theme/css/main.css" type="text/css" />
        <link href="https://www.soasme.com/techshack.weekly/" type="application/atom+xml" rel="alternate" title="Techshack Weekly ATOM Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://www.soasme.com/techshack.weekly/css/ie.css"/>
                <script src="https://www.soasme.com/techshack.weekly/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://www.soasme.com/techshack.weekly/css/ie6.css"/><![endif]-->

</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-lg-2"></div>
            <div id="content" class="col-lg-6">
                <div class="entry">
        
        

 
                <section id="content" class="body">
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/a6f9ffae-deb7-4150-a28d-9ac658d36eb5.html" rel="bookmark"
                                title="Permalink to 代码即债务"
                                >代码即债务</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://blogs.msdn.microsoft.com/elee/2009/03/11/source-code-is-a-liability-not-an-asset/">查看原文</a></p>
<p>本文尝试论证代码不是公司的资产，而更像是债务。我们的目标是添加商业价值，解决实际问题，代码只是我们解决问题中的 necessary evil。代码越多，你要理解越多，维护精力越大，要适配新需求也更复杂。比起添加了多少多少新代码，不如想想如何在保证相同功能的情况下写更少的代码。我们趋向于认为更少的代码可能是更好的设计（从可维护这个角度）。</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/a6f9ffae-deb7-4150-a28d-9ac658d36eb5.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/0cbf5aed-1375-413a-9f33-4b748bce8c28.html" rel="bookmark"
                                title="Permalink to The physics of Infinity"
                                >The physics of Infinity</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://www.nature.com/articles/s41567-018-0238-1.epdf">查看原文</a></p>
<p>关于无限 (Infinity) 这是个数学概念，其实也是个编程概念。希尔伯特认为无限不存在于真实的物理世界，但是谁知道呢。1 / 0 在 Python 会触发 ZeroDivisionError, 但在 JavaScript 中就能得出 Infinity 的答案，这完全取决于人们怎么看待问题。有些编程语言会将 ∞ 作为一个大数的 placeholder，有些则直接提供了无限的数据结构 <code>(&lt;val&gt; . &lt;promise&gt;)    (1)</code> <a href="http://www.shido.info/lisp/scheme_lazy_e.html">Scheme Lazy</a>。真实世界中的无限可能是个存疑的概念，但是编程中确实个实实在在的抽象。</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/0cbf5aed-1375-413a-9f33-4b748bce8c28.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/66b31ecb-5741-442d-a7ac-cb411dca6948.html" rel="bookmark"
                                title="Permalink to Go Cloud - Portable Cloud Programming"
                                >Go Cloud - Portable Cloud Programming</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://blog.golang.org/go-cloud">查看原文</a></p>
<p>Go Cloud 是刚刚发布的一个开源项目，旨在为 <a href="https://cloud.google.com/open-cloud/">open-cloud</a> 提供一套普适的通用接口。在过去的数年里，云平台雨后春笋，遍地开花，但是也引入了问题：各家在提供基本功能时都有自己的实现和接口。这个项目解决的问题就是让你的代码可以几乎无缝的移植到各种平台，而不用修改代码。目前还仅支持 GCP，AWS，不过未来应该前景很好。例如，文中给出的示例是，使用一个通用的 *block.Bucket 类型可以适配 s3blob, 或者 gcsblob 云存储。</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/66b31ecb-5741-442d-a7ac-cb411dca6948.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/75b4285d-61a4-4842-892f-e8d9e5f26b51.html" rel="bookmark"
                                title="Permalink to Merkle Tree - Wiki"
                                >Merkle Tree - Wiki</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://en.wikipedia.org/wiki/Merkle_tree">查看原文</a></p>
<p>Merkle Tree, 也叫 Hash Tree，是一种基于 Tree， Hash 这两种算法的数据结构，主要用于验证数量众多的数据。它的叶子结点存储数据的Hash，非叶子结点存储所有子节点 hash concat 后的数据的 hash。它被应用于 Git, Mercurial, BitCoin, Ethereum, Dynamo, ZFS, Cassandra 等等。我们可以在中本聪的 BitCoin 那篇论文里面找到 merkle tree( 第 8 章节 <a href="https://bitcoin.org/bitcoin.pdf">Simplified Payment Verification</a> )；在 P2P 网络中，我们也可以通过简单校验 top hash 来看这个源靠不靠谱。</p>
<p>一般我们会推荐使用 SHA-2 家族的哈希函数。</p>
<p>Merkle tree 有一个缺陷是 …</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/75b4285d-61a4-4842-892f-e8d9e5f26b51.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/9ef9921a-8127-4d7e-bbda-d58f3447c10b.html" rel="bookmark"
                                title="Permalink to Google 使用单一仓库存储全公司代码"
                                >Google 使用单一仓库存储全公司代码</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://cacm.acm.org/magazines/2016/7/204032-why-google-stores-billions-of-lines-of-code-in-a-single-repository/fulltext">查看原文</a></p>
<p>本文介绍了Google的代码仓库不是一个服务一个仓库，而是全公司95%的代码都存在一个单一仓库中。截止 2016 年的一些数据：</p>
<ul>
<li>25k 开发者</li>
<li>十数个全球办公室</li>
<li>每天 16k 个变更，24k 个系统自动变更</li>
<li>800k qps 高峰时段</li>
<li>86T 数据</li>
<li>二十亿行代码</li>
</ul>
<p>这个系统的一些特征：</p>
<ul>
<li>名叫 Piper</li>
<li>分布式部署在 10 个 Google 全球数据中心</li>
<li>使用 Google 自家的数据库技术 Spanner</li>
<li>使用 Paxos 算法确保数据复制的一致性</li>
<li>需要配缓存，使用异步操作优化性能</li>
<li>支持文件级别的权限控制</li>
<li>大部分文件面向所有开发者公开，敏感配置文件或者核心商业算法相关的文件不全公开</li>
<li>文件读写都有审计</li>
<li>误提交的文件会被 Purge</li>
<li>提交的变更在一个 workspace 里面，有点像 svn 或者 …</li></ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/9ef9921a-8127-4d7e-bbda-d58f3447c10b.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/cefa81ba-84e0-4cb4-963b-458cb0c210ec.html" rel="bookmark"
                                title="Permalink to 源码阅读 - Python dict"
                                >源码阅读 - Python dict</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://github.com/python/cpython/blob/3.7/Objects/dictobject.c">查看原文</a></p>
<p><code>python/cpython/Objects/dictobject.c</code> 是 CPython 的 dict 实现。</p>
<ul>
<li>indices 做 hashtable, entries 则作为 KeyEntry 的数组用来存 kv 数据。</li>
<li>hashtable 有两种：combined table, split table.</li>
<li>哈希表中的 slots 有 4 种类型：unused, active, dummy, pending; 前两个很好理解，一个没用过，一个有数据，后两种跟删过的数据有关。</li>
<li>最小的 size 是 8，一个工程上的假设和优化。</li>
<li>perturb_shift 设置为 5，用来做哈希碰撞的检测，也是个工程上认为是个合理的取值。</li>
<li>数据量到达 …</li></ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/cefa81ba-84e0-4cb4-963b-458cb0c210ec.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/d0c3e4b9-34a7-48e6-b874-7a2edaffc872.html" rel="bookmark"
                                title="Permalink to Why No HTTPS"
                                >Why No HTTPS</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://whynohttps.com/">查看原文</a></p>
<p>HTTPS 现在是一项免费的技术。不给网站开启 HTTPS，就会被标为 Not secure。现状是 Alexa Rank 前五十的很多网站还是没开启默认将 HTTP 转向 HTTPS。这将导致的问题会有中间人劫持，篡改等等很严重的问题。让我们不要以这些大公司为标榜，默认开启 HTTP 转向 HTTPS!</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/d0c3e4b9-34a7-48e6-b874-7a2edaffc872.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/3b19f769-61c3-4607-b97f-d3a3f7b97a7e.html" rel="bookmark"
                                title="Permalink to Rx 操作图解"
                                >Rx 操作图解</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="http://rxmarbles.com/">查看原文</a></p>
<p>这个网站展出了多种 ReactiveX 算法的交互示例。</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/3b19f769-61c3-4607-b97f-d3a3f7b97a7e.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/245471c0-8046-456d-a7f4-be27ce98dc84.html" rel="bookmark"
                                title="Permalink to Bullet Journal - A Productivity System"
                                >Bullet Journal - A Productivity System</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://simpleprogrammer.com/bullet-journal-productivity-programmers/">查看原文</a></p>
<p>本文介绍了一种学习的方法：写日志，月志，做索引。其实这也是 Techshack 的更新方式。好记性不如烂鼻头！</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/245471c0-8046-456d-a7f4-be27ce98dc84.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/2ae67228-b30f-492b-aa7e-c25aa2a32456.html" rel="bookmark"
                                title="Permalink to 使用 Bloom Filters 更快找到 Git 文件历史"
                                >使用 Bloom Filters 更快找到 Git 文件历史</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://blogs.msdn.microsoft.com/devops/2018/07/16/super-charging-the-git-commit-graph-iv-bloom-filters/">查看原文</a></p>
<p>本文讨论了一种能够加速查找与某个文件相关的所有 git log 的优化：使用 Bloom Filters。</p>
<p>Git Commit 的数据结构是一颗哈希树。树节点是文件快照，树的边是文件目录。</p>
<p><img alt="" src="https://msdnshared.blob.core.windows.net/media/2018/07/commit-graph-merkle-tree.png"></p>
<p>这种数据结构决定了 checkout 某个版本的数据方便，但是检索历史将要遍历很长的提交历史才行。
鉴于这颗树还与目录成绩长度有关，嵌套深的时候查起来很费力：</p>
<p><img alt="" src="https://msdnshared.blob.core.windows.net/media/2018/07/commit-graph-file-history-anim.png"></p>
<p>Bloom Filters 是一个 <code>probabilistic set</code>. 这个 set 就是一些比特位组成的开关，每次设置完之后我们查询问题可以得到两个答案：<code>绝对不可能</code> / <code>可能</code>. 如果我们能够得到前一个答案，意味着我们可以不用再深入检查了，只需要检查那些 <code>可能</code> 的case 是不是 true 即可。</p>
<p><img alt="" src="https://msdnshared.blob.core.windows.net/media/2018/07/commit-graph-bloom-anim.png"></p>
<p>一些工程上的小观察：</p>
<ul>
<li>如果文件有变更，提交的父亲目录也会变更</li>
<li>VSTS 对路径名长度设置为 512，因为路径名长度符合对数正态分布, 512 以上就比较少见了</li>
<li>大部分提交都很小</li>
<li>实测 false …</li></ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/2ae67228-b30f-492b-aa7e-c25aa2a32456.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>

<p class="paginator">
        <a href="https://www.soasme.com/techshack.weekly/category/verses13.html">&laquo;</a>
    Page 14 / 54
        <a href="https://www.soasme.com/techshack.weekly/category/verses15.html">&raquo;</a>
</p>
            </section><!-- /#content -->

                </div>

                <hr>
                <div id="footer" class="col-lg-12">
                    <nav>
                        <ul>
                        </ul>
                    </nav>
                </div>
            </div>
            <div id="sidebar" class="col-lg-4">
                <h1>
                    <a href="https://www.soasme.com/techshack.weekly " title="Techshack Weekly">
                        <img src="https://www.soasme.com/techshack.weekly/images/logo-200x50.png" />
                    </a>
                </h1>
                <span class="description"> </span>
                <div><div class="entry-subscription">
    <h5>Techshack Weekly</h5>
    <br>
    专注于后端技术阅读
    <br>
    目前有上百位订阅者。
    <br>
    订阅 <a href="https://www.soasme.com/techshack.weekly/feeds/issues.atom.xml">RSS</a>
    <br>
    欢迎加入 <a href="https://t.me/techshack">Telegram Channel</a> ，
    <br>
    <iframe src="https://tgwidget.com/widget/count/?id=5a66b26483ba88e7118b4568" frameborder="0" scrolling="no" horizontalscrolling="no" verticalscrolling="no" width="160px" height="50px" async></iframe>
    <br>
    关注推特 <a href="https://twitter.com/techshackweekly">@techshackweekly</a>。
    <br>
    <a href="https://twitter.com/TechshackWeekly?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @TechshackWeekly</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    <hr>
</div></div>
                <div><!-- Begin MailChimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
    #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif;  width:250px;}
    /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
       We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="https://soasme.us17.list-manage.com/subscribe/post?u=617c1cb80ba1b0cbf828df387&amp;id=10442a8ee6" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
    <label for="mce-EMAIL">Subscribe to our mailing list</label>
    <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_617c1cb80ba1b0cbf828df387_10442a8ee6" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup--></div>
                    <div>:: <a href="https://www.soasme.com/techshack.weekly/categories.html">Categories</a></div>
                <!-- <span class="feed"><a href="">RSS</a> | <a href="">Atom</a></span> -->
            </div>
            <div class="col-lg-2"></div>
        </div>
    </div>
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-36183732-2");
    pageTracker._trackPageview();
    } catch(err) {}</script>
</body>
</html>