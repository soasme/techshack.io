<!DOCTYPE html>
<html lang="en">
<head>
    <title>Techshack Weekly </title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" />
        <link rel="stylesheet" href="https://www.soasme.com/techshack.weekly/theme/css/main.css" type="text/css" />
        <link href="https://www.soasme.com/techshack.weekly/" type="application/atom+xml" rel="alternate" title="Techshack Weekly ATOM Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://www.soasme.com/techshack.weekly/css/ie.css"/>
                <script src="https://www.soasme.com/techshack.weekly/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://www.soasme.com/techshack.weekly/css/ie6.css"/><![endif]-->

</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-lg-2"></div>
            <div id="content" class="col-lg-6">
                <div class="entry">
        
        

 
                <section id="content" class="body">
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/2c31c921-5693-43dc-8eef-fb2a0c1a36f4.html" rel="bookmark"
                                title="Permalink to Shopify 关于 Incident Management 的 ChatOps 实践"
                                >Shopify 关于 Incident Management 的 ChatOps 实践</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://shopifyengineering.myshopify.com/blogs/engineering/implementing-chatops-into-our-incident-management-procedure">查看原文</a></p>
<p>ChatOps 在处理 Incident Management 的时候，主要关注的是沟通，确保各方的响应确切地在推进事故的应急处理。Shopify 采用的 Incident Response Process 叫做 Incident Command System (ICS)。在这个模型中，Commander (IMOC) 领导整个事故应急处理，Public Information Officer 对外沟通，Operations 对内处理。</p>
<p>有个概念不能混淆：Incident Response 不是修复生产环境的 bug。这个流程基本上是这样的：</p>
<ul>
<li>检测到除了问题。</li>
<li>IMOC 评估确认问题，发起一次 incident。</li>
<li>IMOC 协调沟通，确认修复和多久可以搞定。</li>
<li>故障解除，IMOC 确认，停止 incident，写服务挂掉的报告。</li>
<li>RCA 接入 …</li></ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/2c31c921-5693-43dc-8eef-fb2a0c1a36f4.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/384ac208-ecf8-4910-ad9f-7b375db24f14.html" rel="bookmark"
                                title="Permalink to 几条写代码的建议"
                                >几条写代码的建议</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://mkdev.me/en/posts/5-recommendations-on-how-to-maintain-the-code-quality-and-keep-your-self-development-when-nobody-cares">查看原文</a></p>
<p>以下是几个写代码的建议：</p>
<ul>
<li>看一个陌生的大项目代码，先找到几个领域关键词，然后过一遍代码库，看看这几个词之间是怎么相互产生关系的。</li>
<li>留出足够的时间写测试。</li>
<li>评估任务的时候，就把接口和实现都想清楚。把事情搞的透明，对团队也是一件好事。</li>
<li>小步快跑，一有代码变更就推出去PR，让人 review。</li>
<li>通过工作时间写的代码磨练自己的技能，而不是靠 side projects。</li>
</ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/384ac208-ecf8-4910-ad9f-7b375db24f14.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/6db4c115-265e-4791-8b46-42b07cee10db.html" rel="bookmark"
                                title="Permalink to Dropbox 如何保证 500 PB 数据的安全"
                                >Dropbox 如何保证 500 PB 数据的安全</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://blogs.dropbox.com/tech/2018/02/security-at-scale-the-dropbox-approach/">查看原文</a></p>
<p>本文是 Dropbox 内部关于安全实践的一些简介。</p>
<ul>
<li>首先，他们关注员工的安全意识。它们做年度安全培训。由于抓过现行，员工家属曾经攻击或造成内部问题，所以他们的解决方案是希望培养文化，"安全生产"。</li>
<li>其次定期测试和提升安全。这些测试包括：渗透测试，产品安全评估，邀请专业 red team 帮忙测试等等。内部的 Offensive Security team 在每天做对抗测试。此外，公司有对外的悬赏项目：Bug Bounty Program。</li>
<li>还有造工具：例如 Security Bot，检测暴力破解密码的行为，甚至如果商业工具不够用，就自己造 （Mac OS host monitoring）。</li>
<li>帮助用户提高安全意识，提供多步验证，支持 U2F keys。</li>
</ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/6db4c115-265e-4791-8b46-42b07cee10db.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/aac998ff-5d38-4895-aa52-f2ce0f0f0992.html" rel="bookmark"
                                title="Permalink to 实现 RBAC (Role Based Access Control) 的注意要点"
                                >实现 RBAC (Role Based Access Control) 的注意要点</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://heapanalytics.com/blog/engineering/structure-permissions-saas-app">查看原文</a></p>
<p>RBAC = Role Based Access Control, 在系统中一般是处理 Organizing Permissions，规定谁能干什么。RBAC 系统的核心概念有：Role, Permission, Operation。例如一个用户有很多种角色，一个角色有很多种权限，一种权限能执行多种操作。</p>
<ul>
<li>在代码中，不建议这么写代码：<code>if user.role in ['admin', 'xyz']:</code>，而应该写作：<code>if user.can(Permission.EDIT_REPORT, report)</code>。如果直接将用户和角色挂钩，那代码库里面就会时不时有代码变更。建议的处理方式是：将 role x permission 在代码中解耦，数据库中存这份数据。</li>
<li>权限一般 Positve，不要 Negative：统一风格，权限是 <code>用户能做什么</code>, 而不是 …</li></ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/aac998ff-5d38-4895-aa52-f2ce0f0f0992.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/e9c8f9b1-1543-4dfc-a478-4b38fd71cbd5.html" rel="bookmark"
                                title="Permalink to Virtual Environments 解密"
                                >Virtual Environments 解密</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://meribold.github.io/python/2018/02/13/virtual-environments-9487/">查看原文</a></p>
<p>Python 虚拟环境工具：Hatch, VirtualEnvManager, autoenv, fades, inve, pew, pipenv, pyenv-virtualenv, pyenv-virtualenvwrapper, pyenv, pyvenv, rvirtualenv, tox, v, venv, vex, virtual-python, virtualenv-burrito, virtualenv-mv, virtualenv, virtualenvwrapper-win, virtualenvwrapper, workingenv。</p>
<p>但是究其本源，用的技术都是 virtualenv environment。它是一个自包含的目录结构，里面有 特定版本的 Python 解释器，外加一些程序库。PEP 405 描述了什么是 Python Virtual Environments。基本上该目录要满足两个条件：</p>
<ul>
<li>有个文件 <code>pyvenv.cfg</code>，文件内容有 <code>home = /usr/bin …</code></li></ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/e9c8f9b1-1543-4dfc-a478-4b38fd71cbd5.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/86a05f8a-8696-4eef-a6a4-33b52353dd9b.html" rel="bookmark"
                                title="Permalink to Nagios 检测 Flapping 的算法"
                                >Nagios 检测 Flapping 的算法</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://assets.nagios.com/downloads/nagioscore/docs/nagioscore/3/en/flapping.html">查看原文</a></p>
<p>在 Nagios 对 Service 或者 Host 做可用性检测的时候，可能会出现 Flapping 现象。Flapping 是指服务或节点状态变更太频繁，一会儿好，一会儿不好。它可能是因为服务负载太高，也有可能是网络问题。Nagios 的检测算法是：</p>
<ul>
<li>存最近 21 次的检测结果</li>
<li>检测状态变更了 N 次</li>
<li>算 N / 21 = m %</li>
<li>把 m 跟设定的最高和最低的两个阈值比对，比 high 阈值高的话就是开始 flapping，比 low 阈值低的话 flapping 就认为停止了。</li>
</ul>
<p>例如，21 次变更，丢了一次，变更了 7 次，那结果就是 7 …</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/86a05f8a-8696-4eef-a6a4-33b52353dd9b.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/f3fdc696-524b-46cc-b430-acf1da3a1284.html" rel="bookmark"
                                title="Permalink to 关闭 atime 能显著提高文件系统的 IO 性能"
                                >关闭 atime 能显著提高文件系统的 IO 性能</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://www.howtoforge.com/reducing-disk-io-by-mounting-partitions-with-noatime">查看原文</a></p>
<p>atime 是 last access time。noatime 是 Linux Mount 文件系统的选项，指的是当设置后，文件的 atime 便不再更新。正常情况下，每次文件读操作，都会给文件的 inode 写入 atime 数据。关闭这个选项可以提高性能。</p>
<p>具体做法是在 /etc/fstab 中设定 mount 的节点，加上一个 noatime。不需要重启操作系统，直接 mount -o remount / 加载新的设定。</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/f3fdc696-524b-46cc-b430-acf1da3a1284.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/77b4fa4f-daeb-490a-bd87-fb680736132e.html" rel="bookmark"
                                title="Permalink to Yelp MySQLStremer 提高了 30x 的系统性能"
                                >Yelp MySQLStremer 提高了 30x 的系统性能</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://engineeringblog.yelp.com/2018/02/making-30x-performance-improvements-on-yelps-mysqlstreamer.html">查看原文</a></p>
<p>MySQLStreamer 是 Yelp 的数据流水线组件，用于将数据从 MySQL 集群流式传输到 Kafka 数据流水线。为了实现从 100 qps 到 n kqps  的流量变迁，他们用了一些手段做性能优化：改变部署模型，运行在 PyPy 上，优化日志。具体来说，步骤如下：</p>
<ul>
<li>定义核心的性能指标，主要是吞吐和延迟。</li>
<li>程序发出这些指标数据到时间序列图表程序去。</li>
<li>代码里加上 Profiler。</li>
<li>部署一个跟生产环境一样的 Canary 环境，可以测出性能问题。</li>
<li>理解程序的瓶颈，哪里最费时。</li>
<li>跟生成的 Profile 火焰图做对比，看看是否符合预期，如果不是的话就剖析，然后 fix。</li>
<li>持续迭代这个过程。</li>
</ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/77b4fa4f-daeb-490a-bd87-fb680736132e.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/922a817c-7097-4ac1-b7c3-cbf8cc55540b.html" rel="bookmark"
                                title="Permalink to AWS 官方架构博客：运行在 AWS 上的响应式微服务架构"
                                >AWS 官方架构博客：运行在 AWS 上的响应式微服务架构</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://aws.amazon.com/cn/blogs/architecture/reactive-microservices-architecture-on-aws/">查看原文</a></p>
<p>发布于 2014 年的响应式宣言描述了响应式系统的必须特征：responsiveness, resiliency, elasticity, and being message driven, 其中岁重要的特征是最后一项。这意味着整个系统需要设计成异步的，面向消息的。</p>
<p>例如设计实时的广告追踪系统，流量忽大忽小，系统要面对突如其来的流量高峰。很多数据又要尽可能放在内存已保证快速响应。程序中的非实时的功能，让另外的程序慢慢消费它们。这么一看，系统主要可以拆分为数据收集，核心数据存储，实时接口，非实时消费等部分。</p>
<p>实例程序基于 Java8 框架 Vert.x, 运行在 JVM 上，IO 库使用 Netty。基本的并发模型是是 actor-like，写起代码来基本上就是实现 Verticle 接口，和一个 single event bus 通信，收发消息。Vert.x 使用 …</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/922a817c-7097-4ac1-b7c3-cbf8cc55540b.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/d535e2c4-eb74-4f7c-bdf4-2da92aa2a0bb.html" rel="bookmark"
                                title="Permalink to MySQL 性能调优检查清单"
                                >MySQL 性能调优检查清单</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="http://www.jonathanlevin.co.uk/2018/02/my-mysql-linux-tuning-checklist.html">查看原文</a></p>
<p>MySQL 运行在 Linux 上，在调优性能时要关注的几块地方：</p>
<ul>
<li>IOscheduler,</li>
<li>内核版本</li>
<li>IRQbalance</li>
<li>文件系统，开 noatime, nobarrier 选项</li>
<li>调 ulimit</li>
<li>调 swappiness 内核参数</li>
<li>上 Jemalloc，如果必要的话</li>
<li>配置 iptables, pam</li>
</ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/d535e2c4-eb74-4f7c-bdf4-2da92aa2a0bb.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>

<p class="paginator">
        <a href="https://www.soasme.com/techshack.weekly/category/verses34.html">&laquo;</a>
    Page 35 / 54
        <a href="https://www.soasme.com/techshack.weekly/category/verses36.html">&raquo;</a>
</p>
            </section><!-- /#content -->

                </div>

                <hr>
                <div id="footer" class="col-lg-12">
                    <nav>
                        <ul>
                        </ul>
                    </nav>
                </div>
            </div>
            <div id="sidebar" class="col-lg-4">
                <h1>
                    <a href="https://www.soasme.com/techshack.weekly " title="Techshack Weekly">
                        <img src="https://www.soasme.com/techshack.weekly/images/logo-200x50.png" />
                    </a>
                </h1>
                <span class="description"> </span>
                <div><div class="entry-subscription">
    <h5>Techshack Weekly</h5>
    <br>
    专注于后端技术阅读
    <br>
    目前有上百位订阅者。
    <br>
    订阅 <a href="https://www.soasme.com/techshack.weekly/feeds/issues.atom.xml">RSS</a>
    <br>
    欢迎加入 <a href="https://t.me/techshack">Telegram Channel</a> ，
    <br>
    <iframe src="https://tgwidget.com/widget/count/?id=5a66b26483ba88e7118b4568" frameborder="0" scrolling="no" horizontalscrolling="no" verticalscrolling="no" width="160px" height="50px" async></iframe>
    <br>
    关注推特 <a href="https://twitter.com/techshackweekly">@techshackweekly</a>。
    <br>
    <a href="https://twitter.com/TechshackWeekly?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @TechshackWeekly</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    <hr>
</div></div>
                <div><!-- Begin MailChimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
    #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif;  width:250px;}
    /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
       We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="https://soasme.us17.list-manage.com/subscribe/post?u=617c1cb80ba1b0cbf828df387&amp;id=10442a8ee6" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
    <label for="mce-EMAIL">Subscribe to our mailing list</label>
    <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_617c1cb80ba1b0cbf828df387_10442a8ee6" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup--></div>
                    <div>:: <a href="https://www.soasme.com/techshack.weekly/categories.html">Categories</a></div>
                <!-- <span class="feed"><a href="">RSS</a> | <a href="">Atom</a></span> -->
            </div>
            <div class="col-lg-2"></div>
        </div>
    </div>
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-36183732-2");
    pageTracker._trackPageview();
    } catch(err) {}</script>
</body>
</html>