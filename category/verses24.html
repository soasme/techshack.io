<!DOCTYPE html>
<html lang="en">
<head>
    <title>Techshack Weekly </title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" />
        <link rel="stylesheet" href="https://www.soasme.com/techshack.weekly/theme/css/main.css" type="text/css" />
        <link href="https://www.soasme.com/techshack.weekly/" type="application/atom+xml" rel="alternate" title="Techshack Weekly ATOM Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://www.soasme.com/techshack.weekly/css/ie.css"/>
                <script src="https://www.soasme.com/techshack.weekly/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://www.soasme.com/techshack.weekly/css/ie6.css"/><![endif]-->

</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-lg-2"></div>
            <div id="content" class="col-lg-6">
                <div class="entry">
        
        

 
                <section id="content" class="body">
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/5c1fab07-f707-4453-9bf0-1e4c9211bc6d.html" rel="bookmark"
                                title="Permalink to pass - the standard unix password manager"
                                >pass - the standard unix password manager</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://www.passwordstore.org/">查看原文</a></p>
<p>Pass 是一款尝试拥抱 Unix 哲学的密码管理软件，可在 linux/osx/ios/android 下使用。它使用 gpg 加密密码，它的好处是可以用命令行工具快速获取或者更新密码。</p>
<div class="highlight"><pre><span></span><code><span class="o">#</span> <span class="n">OS</span> <span class="n">X</span> <span class="err">上安装</span>
<span class="n">brew</span> <span class="n">install</span> <span class="n">pass</span>

<span class="o">#</span> <span class="err">初始化</span>
<span class="n">pass</span> <span class="n">init</span> <span class="ss">&quot;Your Master Key&quot;</span>

<span class="o">#</span> <span class="err">新建密码</span>
<span class="n">pass</span> <span class="k">insert</span> <span class="n">Email</span><span class="o">/</span><span class="n">example</span><span class="p">.</span><span class="n">org</span>

<span class="o">#</span> <span class="err">生成密码</span>
<span class="n">pass</span> <span class="k">insert</span> <span class="n">Email</span><span class="o">/</span><span class="n">example</span><span class="p">.</span><span class="n">org</span> <span class="mi">15</span>

<span class="o">#</span> <span class="err">显示密码</span>
<span class="n">pass</span> <span class="n">Email</span><span class="o">/</span><span class="n">example</span><span class="p">.</span><span class="n">org</span>

<span class="o">#</span> <span class="err">复制密码</span>
<span class="n">pass</span> <span class="o">-</span><span class="k">c</span> <span class="n">Email</span><span class="o">/</span><span class="n">example …</span></code></pre></div>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/5c1fab07-f707-4453-9bf0-1e4c9211bc6d.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/784ff947-718e-4d9a-9622-88f87e72820c.html" rel="bookmark"
                                title="Permalink to gVisor - a sandboxed container runtime"
                                >gVisor - a sandboxed container runtime</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://cloudplatform.googleblog.com/2018/05/Open-sourcing-gVisor-a-sandboxed-container-runtime.html">查看原文</a></p>
<p>gVisor 是一个 sandboxed container runtime, 从实现上看，它劫持容器的系统调用，并将其运行在自己的沙盒里，而不真正运行在操作系统上。从使用上看，它的调用非常简单：<code>docker run --runtime=runsc hello-world</code>，只要你安装了 gVisor。它依然存在一些限制，例如说它只实现了大约200个syscall，尽管如此，大部分的应用程序还是可以使用的。从目的上看，这个工具想要让容器可以在不信任的机器上建立起沙盒环境运行。</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/784ff947-718e-4d9a-9622-88f87e72820c.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/bb99e9c3-0449-4fae-9ae2-9c6c88765fd9.html" rel="bookmark"
                                title="Permalink to Docker save and load"
                                >Docker save and load</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://stackoverflow.com/questions/23935141/how-to-copy-docker-images-from-one-host-to-another-without-via-repository">查看原文</a></p>
<p>我们比较常见的 docker image 转移的做法是通过 <code>docker push</code> 和 <code>docker pull</code>，但这需要我们配置一个 docker registry 存储构建好的镜像。这篇问答介绍了一个小技巧，我们可以用 <code>docker save -o /path/to/image.archive you/image:version</code> 将镜像导出；再用 <code>docker load -i /path/to/image.archive</code> 导入。这个方法还蛮有用的，特别是在防火墙堵住某些访问的时候。</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/bb99e9c3-0449-4fae-9ae2-9c6c88765fd9.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/2be51adc-a1a7-402b-90c8-91973b425ee8.html" rel="bookmark"
                                title="Permalink to Google SRE Book 第 22 章 - Addressing Cascading Failures"
                                >Google SRE Book 第 22 章 - Addressing Cascading Failures</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="http://landing.google.com/sre/book/chapters/addressing-cascading-failures.html">查看原文</a></p>
<p>本文描述了 Cascading Failures 是什么，为什么产生，产生时有什么现象，以及如何防止它产生。</p>
<ul>
<li>Cascading failure: 一个大系统中的小部分失效，最终导致了系统中其它很多地方级联失效。</li>
<li>过载(overload): 最常见的原因。</li>
<li>资源耗尽：会导致高延迟，错误率升高；而这一系列会导致系统处理能力降低，进而导致资源被耗的更多，直到最后冲垮系统。这些资源可以是 cpu, ram, thread, fd。有的时候很难看出什么资源耗尽，因为资源是在慢慢地全盘耗尽。值得注意的是，资源耗尽会导致健康请求失败，负载均衡也会掺合一脚把服务移除进而导致服务池子扛不住流量。</li>
<li>防止过载：首先心里要有数 - 做压测+线上预留多余的资源；然后第一原则是留着青山在宁愿拒绝服务也要保障服务或者 - 提供 degraded 数据给下游；让服务能发现自己过载了然后拒绝服务；Instrument higher-level 系统然后在系统处理能力变低的时候做 rate limit。此外，retry 要算好间隔，要符合server的retry budget …</li></ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/2be51adc-a1a7-402b-90c8-91973b425ee8.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/98b33a51-7143-4fdf-ac03-5543bee302ea.html" rel="bookmark"
                                title="Permalink to 如何选择 Python Visualization 工具"
                                >如何选择 Python Visualization 工具</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="http://pbpython.com/python-vis-flowchart.html">查看原文</a></p>
<p>本文列出了选择可视化工具的简单策略，涉及的工具包括 plotnine, altair, customize, pandas, seaborn, dash, bokeh.</p>
<ul>
<li>喜欢 ggplot2 语法：plotnine</li>
<li>定制多一些的：matplotlib</li>
<li>快速画图：pandas</li>
<li>交互画图：seaborn</li>
<li>其余场景在 plotly dash / bokeh 中选择</li>
</ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/98b33a51-7143-4fdf-ac03-5543bee302ea.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/4ce811be-0122-4b4e-9b0a-dfa167d5f903.html" rel="bookmark"
                                title="Permalink to Netflix 将故障恢复从 45min 降至 7min"
                                >Netflix 将故障恢复从 45min 降至 7min</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://opensource.com/article/18/4/how-netflix-does-failovers-7-minutes-flat">查看原文</a></p>
<p>本文介绍了 Netflix 的新老两套 failover 系统。故事还是从 2012 年的那场殃及全美的 AWS LB 故障说起，他们痛定思痛，决定做 Failover。思路当然还是异地容灾。他们扩展到 US 两个，EU 一个 AWS regions。</p>
<ul>
<li>45 分钟的玩法<ul>
<li>使用 Business Metric 检测系统有没有坏掉，同时比对一天，一周前数据有没有异常。</li>
<li>在另外一个数据中心迅速搞起来 instance，然后使用线性回归预测对应流量需要用到的资源，起相对应的 microservices。</li>
<li>使用 Zuul （一个 gateway）切换流量</li>
<li>修改 DNS 记录，切换服务到另一个数据中心（假使客户端没刷新 dns，那还用 Zuul 走流量 …</li></ul></li></ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/4ce811be-0122-4b4e-9b0a-dfa167d5f903.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/6ad00cd5-e3f0-4274-9823-57591798267e.html" rel="bookmark"
                                title="Permalink to Git Ship - 一种基于 Git 的部署模型"
                                >Git Ship - 一种基于 Git 的部署模型</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="http://markshust.com/2018/04/07/introducing-git-ship-simplified-git-flow-workflow">查看原文</a></p>
<p>本文介绍的代码合并技术尝试改善 Git Flow 分支太多的问题。在传统的 Git Flow 中我们需要维护 master/dev/release/hotfix 等各种分支，而在这种 git ship 模型中，我们只需要维护 master/release/feature 三种分支。基本方法是：</p>
<ul>
<li>基于 master 创建 release/$major.$minor 分支</li>
<li>特性分支上做开发，发送 Pull Request 到 release/$major.$minor 分支，并触发构建推送到 staging</li>
<li>完成 release/$major.$minor 的开发后，合并到 master 分支 …</li></ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/6ad00cd5-e3f0-4274-9823-57591798267e.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/6c92b095-d4f3-4075-a849-124fda34d544.html" rel="bookmark"
                                title="Permalink to Dict 从 Python 3_7 开始正式变为有序"
                                >Dict 从 Python 3_7 开始正式变为有序</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://www.reddit.com/r/Python/comments/8cf4rf/til_that_starting_from_37_dicts_are_officially/">查看原文</a></p>
<p>Python 社区的热话题：这个 Reddit 的帖子讨论了 Python 的这个变更。dict keys 变为有序，在先前的版本里面，文档都是告诫用户 dict 是无序的，即便有序也不要依赖；但从 Python 3.7 开始，<code>Performing list(d) on a dictionary returns a list of all the keys used in the dictionary, in insertion order</code> <a href="https://docs.python.org/3.7/tutorial/datastructures.html#dictionaries">link</a>, 这意味着，dict 在内部实现得维持插入时的顺序。</p>
<ul>
<li>这个评论 / <a href="https://www.reddit.com/r/Python/comments/8cf4rf/til_that_starting_from_37_dicts_are_officially/dxek10u/">link</a>, 阐述了如何做到: 在 dict …</li></ul>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/6c92b095-d4f3-4075-a849-124fda34d544.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/8f488ccb-01ca-48cd-bc02-e890b10c7208.html" rel="bookmark"
                                title="Permalink to Linux 内核将使用 BPF 替换 iptables"
                                >Linux 内核将使用 BPF 替换 iptables</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="https://cilium.io/blog/2018/04/17/why-is-the-kernel-community-replacing-iptables/">查看原文</a></p>
<p>这篇文章简要讲述了 iptables 的性能问题和一系列基于 bpf 的项目逐渐开始替代 iptables, 例如 facebook 使用基于 bpf/xdp 的负载均衡替换 lpvs, Netflix 使用基于 bpf 的 bcc 做性能分析，Google 开发 bpfd , cillium 基于 bpf 做 l3-l7 的 network/security/lb; 等等。 Iptables 在过去的十数年中获得很大的成功，它的功能可以简单地说成三个词：INPUT chain, OUTPUT chain, FORWARD chain, 分别管理进来的流量，出去的流量，以及转发。然而问题在于 packet 在经过 iptables 的时候是逐个 …</p>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/8f488ccb-01ca-48cd-bc02-e890b10c7208.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>


        

 
            <div>
                <article class="hentry">
                    <header>
                        <h3>
                            <a href="https://www.soasme.com/techshack.weekly/verses/c812dce4-b8ec-4e8e-81aa-870915d2920a.html" rel="bookmark"
                                title="Permalink to Docker Alpine 简介"
                                >Docker Alpine 简介</a>
                        </h3>
                    </header>
                    <div class="entry-content">
                        <p><a href="http://gliderlabs.viewdocs.io/docker-alpine/about/">查看原文</a></p>
<p>本文是 Docker Alpine 的 about 页面。Alpine Linux 是基于 musl libc 和 busybox 的轻量级的 Linux。它最大的特色就是整个 Linux 被包进了大约 5MB 的镜像中，整个构建只需要几分钟，而在这么小的空间里你可以轻易塞入大量可用的软件，例如 nginx，mysql，java 等等。</p>
<p>一般来说在使用上，可以参考 [这个页面]。</p>
<div class="highlight"><pre><span></span><code><span class="err">FROM gliderlabs/alpine</span>
<span class="err">RUN apk add --no-cache python</span>
<span class="err">WORKDIR /app</span>
<span class="err">ONBUILD COPY . /app</span>
</code></pre></div>


<p>另外一个做 cleanup 的做法是：</p>
<div class="highlight"><pre><span></span><code><span class="err">RUN apk add …</span></code></pre></div>
                        <a class="readmore" href="https://www.soasme.com/techshack.weekly/verses/c812dce4-b8ec-4e8e-81aa-870915d2920a.html"
                            >read more</a>
                    </div><!-- /.entry-content -->
                </article>
            </div>

<p class="paginator">
        <a href="https://www.soasme.com/techshack.weekly/category/verses23.html">&laquo;</a>
    Page 24 / 54
        <a href="https://www.soasme.com/techshack.weekly/category/verses25.html">&raquo;</a>
</p>
            </section><!-- /#content -->

                </div>

                <hr>
                <div id="footer" class="col-lg-12">
                    <nav>
                        <ul>
                        </ul>
                    </nav>
                </div>
            </div>
            <div id="sidebar" class="col-lg-4">
                <h1>
                    <a href="https://www.soasme.com/techshack.weekly " title="Techshack Weekly">
                        <img src="https://www.soasme.com/techshack.weekly/images/logo-200x50.png" />
                    </a>
                </h1>
                <span class="description"> </span>
                <div><div class="entry-subscription">
    <h5>Techshack Weekly</h5>
    <br>
    专注于后端技术阅读
    <br>
    目前有上百位订阅者。
    <br>
    订阅 <a href="https://www.soasme.com/techshack.weekly/feeds/issues.atom.xml">RSS</a>
    <br>
    欢迎加入 <a href="https://t.me/techshack">Telegram Channel</a> ，
    <br>
    <iframe src="https://tgwidget.com/widget/count/?id=5a66b26483ba88e7118b4568" frameborder="0" scrolling="no" horizontalscrolling="no" verticalscrolling="no" width="160px" height="50px" async></iframe>
    <br>
    关注推特 <a href="https://twitter.com/techshackweekly">@techshackweekly</a>。
    <br>
    <a href="https://twitter.com/TechshackWeekly?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @TechshackWeekly</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    <hr>
</div></div>
                <div><!-- Begin MailChimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
    #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif;  width:250px;}
    /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
       We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="https://soasme.us17.list-manage.com/subscribe/post?u=617c1cb80ba1b0cbf828df387&amp;id=10442a8ee6" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
    <label for="mce-EMAIL">Subscribe to our mailing list</label>
    <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_617c1cb80ba1b0cbf828df387_10442a8ee6" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup--></div>
                    <div>:: <a href="https://www.soasme.com/techshack.weekly/categories.html">Categories</a></div>
                <!-- <span class="feed"><a href="">RSS</a> | <a href="">Atom</a></span> -->
            </div>
            <div class="col-lg-2"></div>
        </div>
    </div>
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-36183732-2");
    pageTracker._trackPageview();
    } catch(err) {}</script>
</body>
</html>