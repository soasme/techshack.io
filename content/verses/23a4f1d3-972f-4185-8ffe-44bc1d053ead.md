Title: 使用 Python 连接 SQLite 数据库
Date: 2017-08-22 00:00
Modified: 2017-08-22 00:00
Slug: verses/23a4f1d3-972f-4185-8ffe-44bc1d053ead
Category: verses
Authors: Ju Lin
verse_category: Database

[查看原文](https://docs.python.org/2/library/sqlite3.html#sqlite3.connect)

SQLite 有诸多限制，但不妨碍成为非常流行的工具。它最大的限制是不支持并发访问，如果同时有数据库连接，并且有一个连接在修改数据库，其他数据库的访问都会被锁住，直到那个事务提交。这个锁导致堵塞，会有默认 5 秒的超时。所以 connect 函数需要考虑超时的场景。在 Python 中，我们可以自定义 detect_types 字段来扩展 SQLite 只有数字/字符串/文本/空 这么简单的几种类型。参数 cached_statements 用来缓存 SQL 语句的解析结果，默认缓存 100 条。不过我感觉相比业务，SQL 解析不太会是瓶颈。
