<!DOCTYPE html>
<html lang="en">
<head>
    <title>Techshack Weekly - HTTP 协议发展变迁</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" />
        <link rel="stylesheet" href="https://www.soasme.com/techshack.weekly/theme/css/main.css" type="text/css" />
        <link href="https://www.soasme.com/techshack.weekly/" type="application/atom+xml" rel="alternate" title="Techshack Weekly ATOM Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://www.soasme.com/techshack.weekly/css/ie.css"/>
                <script src="https://www.soasme.com/techshack.weekly/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://www.soasme.com/techshack.weekly/css/ie6.css"/><![endif]-->

</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-lg-2"></div>
            <div id="content" class="col-lg-6">
                <div class="entry">
<section id="content" class="body">
  <header>
    <h2 class="entry-title">HTTP 协议发展变迁</h2>
  </header>
  <div class="entry-content">
        <p><a href="http://kamranahmed.info/blog/2016/08/13/http-in-depth/">查看原文</a></p>
<p>这篇文章介绍了 HTTP 协议关于传输方式上的重大改变。HTTP 协议 是基于 TCP/IP 协议的关于内容请求和传输的标准。HTTP/0.9 的请求只有一行，使用 <code>GET /index.html</code> 这样的请求，响应只能返回 HTML 内容然后关闭 腾出连接，请求和响应都没有header。HTTP/1.0 也是在响应完后关闭连接。一个缺点是在 TCP 三路握手客户端最后一个 ACK 到达服务器前服务器无法处理请求；一些 HTTP 实现定义了 <code>Connection: keep-alive</code> 来告诉服务器不要关闭连接，客户端还要用。HTTP 还是一个无状态的协议，所以客户端在每个请求都需要自己携带信息以告知服务器其所在状态，重复的信息会到达服务器很多遍。HTTP/1.1 默认响应结束不关闭 tcp 连接除非带上了 header Connection: close；加入了 Content-Length 用于一次处理多个请求（这个字段可以确定每个请求的边界）。当然，如果流式返回动态数据，服务器肯定不知道数据长度，响应最后肯定要关闭连接，这种场景 HTTP/1.1 引入了 chunk encoding，最后响应设定长度为 0 以关闭连接。然而时至今日，一个网页大几十个请求发出去，HTTP/1.1 的多请求处理是线性的，一个请求不完结下一个也不会出来。Google 为此推出了 SPDY，这个协议在客户端修改请求，它的许多特性进入了 HTTP/2。为了减低单个请求的数据量，HTTP/2 传输二进制数据，不再传输 ASCII header，我们在先前熟知的 header 成为了 HEADER frame, body 成为了 DATA frame，这些 frame 都是二进制的。为了异步地传输请求和响应， HTTP/2 中请求和响应都分配了 Unique ID，所以定界用的 Content-Length 作用不大了。为了可以停止流数据但不切断连接，引入了 RST_STREAM frame。为了避免重复数据在两端传输的量，引入了 HPACK header，使用 Huffman 编码减少传输数据。HTTP/2 还支持 Server Push，单请求多响应。这一系列传输方式的变更从先前的 it works，到后面更注重性能，我们可以看到 HTTP 协议发展的轨迹。</p>

  </div><!-- /.entry-content -->
</section>
                </div>

                <hr>
                <div id="footer" class="col-lg-12">
                    <nav>
                        <ul>
                        </ul>
                    </nav>
                </div>
            </div>
            <div id="sidebar" class="col-lg-4">
                <h1>
                    <a href="https://www.soasme.com/techshack.weekly " title="Techshack Weekly">
                        <img src="https://www.soasme.com/techshack.weekly/images/logo-200x50.png" />
                    </a>
                </h1>
                <span class="description"> </span>
                <div><div class="entry-subscription">
    <h5>Techshack Weekly</h5>
    <br>
    专注于后端技术阅读
    <br>
    目前有上百位订阅者。
    <br>
    订阅 <a href="https://www.soasme.com/techshack.weekly/feeds/issues.atom.xml">RSS</a>
    <br>
    欢迎加入 <a href="https://t.me/techshack">Telegram Channel</a> ，
    <br>
    <iframe src="https://tgwidget.com/widget/count/?id=5a66b26483ba88e7118b4568" frameborder="0" scrolling="no" horizontalscrolling="no" verticalscrolling="no" width="160px" height="50px" async></iframe>
    <br>
    关注推特 <a href="https://twitter.com/techshackweekly">@techshackweekly</a>。
    <br>
    <a href="https://twitter.com/TechshackWeekly?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @TechshackWeekly</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    <hr>
</div></div>
                <div><!-- Begin MailChimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
    #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif;  width:250px;}
    /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
       We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="https://soasme.us17.list-manage.com/subscribe/post?u=617c1cb80ba1b0cbf828df387&amp;id=10442a8ee6" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
    <label for="mce-EMAIL">Subscribe to our mailing list</label>
    <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_617c1cb80ba1b0cbf828df387_10442a8ee6" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup--></div>
                    <div>:: <a href="https://www.soasme.com/techshack.weekly/categories.html">Categories</a></div>
                <!-- <span class="feed"><a href="">RSS</a> | <a href="">Atom</a></span> -->
            </div>
            <div class="col-lg-2"></div>
        </div>
    </div>
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-36183732-2");
    pageTracker._trackPageview();
    } catch(err) {}</script>
</body>
</html>